import { NewOperatorExpression } from "../expressions";
export class ConstructReflectorTrap {
    constructor(returnValueFactory, expressions) {
        this.returnValueFactory = returnValueFactory;
        this.expressions = expressions;
        return this.factory();
    }
    factory() {
        return (target, args) => {
            this.expressions.push(new NewOperatorExpression(args));
            return this.returnValueFactory.create();
        };
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uc3RydWN0LnJlZmxlY3Rvci10cmFwLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvbW9xL3NyYy9saWIvcmVmbGVjdG9yL3RyYXBzL2NvbnN0cnVjdC5yZWZsZWN0b3ItdHJhcC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFHQSxPQUFPLEVBQUUscUJBQXFCLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUV2RCxNQUFNLE9BQU8sc0JBQXNCO0lBQy9CLFlBQ3FCLGtCQUF1QyxFQUN2QyxXQUFtQztRQURuQyx1QkFBa0IsR0FBbEIsa0JBQWtCLENBQXFCO1FBQ3ZDLGdCQUFXLEdBQVgsV0FBVyxDQUF3QjtRQUNwRCxPQUFPLElBQUksQ0FBQyxPQUFPLEVBQVMsQ0FBQztJQUNqQyxDQUFDO0lBRUQsT0FBTztRQUNILE9BQU8sQ0FBQyxNQUFXLEVBQUUsSUFBUyxFQUFFLEVBQUU7WUFDOUIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxxQkFBcUIsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQ3ZELE9BQU8sSUFBSSxDQUFDLGtCQUFrQixDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQzVDLENBQUMsQ0FBQztJQUNOLENBQUM7Q0FDSiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEV4cHJlc3Npb25zIH0gZnJvbSBcIi4uL2V4cHJlc3Npb25zXCI7XG5pbXBvcnQgeyBJbmplY3Rpb25GYWN0b3J5IH0gZnJvbSBcIi4uLy4uL2luamVjdG9yL2luamVjdGlvbi1mYWN0b3J5XCI7XG5pbXBvcnQgeyBJUmV0dXJuVmFsdWVGYWN0b3J5IH0gZnJvbSBcIi4uL2V4cHJlc3Npb24tcmVmbGVjdG9yXCI7XG5pbXBvcnQgeyBOZXdPcGVyYXRvckV4cHJlc3Npb24gfSBmcm9tIFwiLi4vZXhwcmVzc2lvbnNcIjtcblxuZXhwb3J0IGNsYXNzIENvbnN0cnVjdFJlZmxlY3RvclRyYXAgaW1wbGVtZW50cyBJbmplY3Rpb25GYWN0b3J5IHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSByZWFkb25seSByZXR1cm5WYWx1ZUZhY3Rvcnk6IElSZXR1cm5WYWx1ZUZhY3RvcnksXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgZXhwcmVzc2lvbnM6IEV4cHJlc3Npb25zPHVua25vd24+W10pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmFjdG9yeSgpIGFzIGFueTtcbiAgICB9XG5cbiAgICBmYWN0b3J5KCkge1xuICAgICAgICByZXR1cm4gKHRhcmdldDogYW55LCBhcmdzOiBhbnkpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZXhwcmVzc2lvbnMucHVzaChuZXcgTmV3T3BlcmF0b3JFeHByZXNzaW9uKGFyZ3MpKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJldHVyblZhbHVlRmFjdG9yeS5jcmVhdGUoKTtcbiAgICAgICAgfTtcbiAgICB9XG59XG4iXX0=