/**
 * @hidden
 */
export class PropertyIsReadOnlyTester {
    constructor(storage, propertyDescriptorProvider, has) {
        this.storage = storage;
        this.propertyDescriptorProvider = propertyDescriptorProvider;
        this.has = has;
    }
    isReadOnly(name) {
        const prototype = this.storage.get();
        if (prototype && this.has(prototype, name)) {
            const descriptor = this.propertyDescriptorProvider.get(prototype, name);
            return descriptor.get instanceof Function && descriptor.set === undefined || descriptor.writable === false;
        }
        return false;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvcGVydHktaXMtcmVhZC1vbmx5LnRlc3Rlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL21vcS9zcmMvbGliL2V4cGxvcmVycy9oYXMtcHJvcGVydHkuZXhwbG9yZXIvcHJvcGVydHktaXMtcmVhZC1vbmx5LnRlc3Rlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFLQTs7R0FFRztBQUNILE1BQU0sT0FBTyx3QkFBd0I7SUFDakMsWUFDWSxPQUF5QixFQUN6QiwwQkFBc0QsRUFDdEQsR0FBNkM7UUFGN0MsWUFBTyxHQUFQLE9BQU8sQ0FBa0I7UUFDekIsK0JBQTBCLEdBQTFCLDBCQUEwQixDQUE0QjtRQUN0RCxRQUFHLEdBQUgsR0FBRyxDQUEwQztJQUV6RCxDQUFDO0lBRU0sVUFBVSxDQUFDLElBQWlCO1FBQy9CLE1BQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLENBQUM7UUFDckMsSUFBSSxTQUFTLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLEVBQUU7WUFDeEMsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLDBCQUEwQixDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDeEUsT0FBTyxVQUFVLENBQUMsR0FBRyxZQUFZLFFBQVEsSUFBSSxVQUFVLENBQUMsR0FBRyxLQUFLLFNBQVMsSUFBSSxVQUFVLENBQUMsUUFBUSxLQUFLLEtBQUssQ0FBQztTQUM5RztRQUNELE9BQU8sS0FBSyxDQUFDO0lBQ2pCLENBQUM7Q0FDSiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByb3RvdHlwZVN0b3JhZ2UgfSBmcm9tIFwiLi4vLi4vaW50ZXJjZXB0b3JzL3Byb3RvdHlwZS5zdG9yYWdlXCI7XG5pbXBvcnQgeyBQcm9wZXJ0eURlc2NyaXB0b3JQcm92aWRlciB9IGZyb20gXCIuLi9tZW1iZXJzLmV4cGxvcmVyL3Byb3BlcnR5LWRlc2NyaXB0b3IucHJvdmlkZXJcIjtcbmltcG9ydCB7IFR5cGVvZkluamVjdGlvblRva2VuIH0gZnJvbSBcIi4uLy4uL2luamVjdG9yL3R5cGVvZi1pbmplY3Rpb24tdG9rZW5cIjtcbmltcG9ydCB7IFJFRkxFQ1RfSEFTIH0gZnJvbSBcIi4uL3JlZmxlY3QtaGFzLmluamVjdGlvbi10b2tlblwiO1xuXG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuZXhwb3J0IGNsYXNzIFByb3BlcnR5SXNSZWFkT25seVRlc3RlciB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgc3RvcmFnZTogUHJvdG90eXBlU3RvcmFnZSxcbiAgICAgICAgcHJpdmF0ZSBwcm9wZXJ0eURlc2NyaXB0b3JQcm92aWRlcjogUHJvcGVydHlEZXNjcmlwdG9yUHJvdmlkZXIsXG4gICAgICAgIHByaXZhdGUgaGFzOiBUeXBlb2ZJbmplY3Rpb25Ub2tlbjx0eXBlb2YgUkVGTEVDVF9IQVM+KSB7XG5cbiAgICB9XG5cbiAgICBwdWJsaWMgaXNSZWFkT25seShuYW1lOiBQcm9wZXJ0eUtleSk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBwcm90b3R5cGUgPSB0aGlzLnN0b3JhZ2UuZ2V0KCk7XG4gICAgICAgIGlmIChwcm90b3R5cGUgJiYgdGhpcy5oYXMocHJvdG90eXBlLCBuYW1lKSkge1xuICAgICAgICAgICAgY29uc3QgZGVzY3JpcHRvciA9IHRoaXMucHJvcGVydHlEZXNjcmlwdG9yUHJvdmlkZXIuZ2V0KHByb3RvdHlwZSwgbmFtZSk7XG4gICAgICAgICAgICByZXR1cm4gZGVzY3JpcHRvci5nZXQgaW5zdGFuY2VvZiBGdW5jdGlvbiAmJiBkZXNjcmlwdG9yLnNldCA9PT0gdW5kZWZpbmVkIHx8IGRlc2NyaXB0b3Iud3JpdGFibGUgPT09IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG4iXX0=