/**
 * @hidden
 */
export class AutoMockProvider {
    constructor(map, comparer, autoMockFactory) {
        this.map = map;
        this.comparer = comparer;
        this.autoMockFactory = autoMockFactory;
    }
    getOrCreate(expression) {
        for (const [key, value] of this.map) {
            if (this.comparer.equals(expression, key) === true) {
                return value;
            }
        }
        const mock = this.autoMockFactory.create(expression);
        this.map.set(expression, mock);
        return mock;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXV0by1tb2NrLnByb3ZpZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvbW9xL3NyYy9saWIvYXV0by1tb2NraW5nL2F1dG8tbW9jay5wcm92aWRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFNQTs7R0FFRztBQUNILE1BQU0sT0FBTyxnQkFBZ0I7SUFDekIsWUFDcUIsR0FBOEMsRUFDOUMsUUFBb0MsRUFDcEMsZUFBZ0M7UUFGaEMsUUFBRyxHQUFILEdBQUcsQ0FBMkM7UUFDOUMsYUFBUSxHQUFSLFFBQVEsQ0FBNEI7UUFDcEMsb0JBQWUsR0FBZixlQUFlLENBQWlCO0lBQ3JELENBQUM7SUFFTSxXQUFXLENBQUksVUFBMEI7UUFDNUMsS0FBSyxNQUFNLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxJQUFJLElBQUksQ0FBQyxHQUFHLEVBQUU7WUFDakMsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxVQUFVLEVBQUUsR0FBRyxDQUFDLEtBQUssSUFBSSxFQUFFO2dCQUNoRCxPQUFPLEtBQUssQ0FBQzthQUNoQjtTQUNKO1FBQ0QsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDckQsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQy9CLE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7Q0FDSiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFR5cGVPZkluamVjdGlvbkZhY3RvcnkgfSBmcm9tIFwiLi4vaW5qZWN0b3IvaW5qZWN0aW9uLWZhY3RvcnlcIjtcbmltcG9ydCB7IEF1dG9Nb2NrRmFjdG9yeSB9IGZyb20gXCIuL2F1dG8tbW9jay5mYWN0b3J5XCI7XG5pbXBvcnQgeyBFeHByZXNzaW9ucyB9IGZyb20gXCIuLi9yZWZsZWN0b3IvZXhwcmVzc2lvbnNcIjtcbmltcG9ydCB7IEF1dG9Nb2NrZWRTdG9yYWdlIH0gZnJvbSBcIi4vYXV0by1tb2NrLnN0b3JhZ2VcIjtcbmltcG9ydCB7IEV4cHJlc3Npb25FcXVhbGl0eUNvbXBhcmVyIH0gZnJvbSBcIi4uL2V4cHJlc3Npb24uZXF1YWxpdHktY29tcGFyZXJzL2V4cHJlc3Npb24uZXF1YWxpdHktY29tcGFyZXJcIjtcblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmV4cG9ydCBjbGFzcyBBdXRvTW9ja1Byb3ZpZGVyIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSByZWFkb25seSBtYXA6IFR5cGVPZkluamVjdGlvbkZhY3Rvcnk8QXV0b01vY2tlZFN0b3JhZ2U+LFxuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IGNvbXBhcmVyOiBFeHByZXNzaW9uRXF1YWxpdHlDb21wYXJlcixcbiAgICAgICAgcHJpdmF0ZSByZWFkb25seSBhdXRvTW9ja0ZhY3Rvcnk6IEF1dG9Nb2NrRmFjdG9yeSkge1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRPckNyZWF0ZTxUPihleHByZXNzaW9uOiBFeHByZXNzaW9uczxUPikge1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiB0aGlzLm1hcCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY29tcGFyZXIuZXF1YWxzKGV4cHJlc3Npb24sIGtleSkgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbW9jayA9IHRoaXMuYXV0b01vY2tGYWN0b3J5LmNyZWF0ZShleHByZXNzaW9uKTtcbiAgICAgICAgdGhpcy5tYXAuc2V0KGV4cHJlc3Npb24sIG1vY2spO1xuICAgICAgICByZXR1cm4gbW9jaztcbiAgICB9XG59XG4iXX0=