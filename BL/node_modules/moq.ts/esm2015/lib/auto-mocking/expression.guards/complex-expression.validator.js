export class ComplexExpressionValidator {
    constructor(validator) {
        this.validator = validator;
    }
    validate(expressions) {
        const errors = [];
        const clone = [...expressions];
        const last = clone.pop();
        for (const expression of clone) {
            errors.push([expression, this.validator.validate(expression)]);
        }
        errors.push([last, true]);
        const isValid = errors.filter(([, valid]) => valid === false).length === 0;
        return {
            valid: isValid,
            errors: isValid ? [] : errors
        };
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcGxleC1leHByZXNzaW9uLnZhbGlkYXRvci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL21vcS9zcmMvbGliL2F1dG8tbW9ja2luZy9leHByZXNzaW9uLmd1YXJkcy9jb21wbGV4LWV4cHJlc3Npb24udmFsaWRhdG9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUdBLE1BQU0sT0FBTywwQkFBMEI7SUFFbkMsWUFBNkIsU0FBOEI7UUFBOUIsY0FBUyxHQUFULFNBQVMsQ0FBcUI7SUFDM0QsQ0FBQztJQUVELFFBQVEsQ0FBQyxXQUFtQztRQUN4QyxNQUFNLE1BQU0sR0FBc0MsRUFBRSxDQUFDO1FBQ3JELE1BQU0sS0FBSyxHQUFHLENBQUMsR0FBRyxXQUFXLENBQUMsQ0FBQztRQUMvQixNQUFNLElBQUksR0FBRyxLQUFLLENBQUMsR0FBRyxFQUFFLENBQUM7UUFDekIsS0FBSyxNQUFNLFVBQVUsSUFBSSxLQUFLLEVBQUU7WUFDNUIsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDbEU7UUFDRCxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDMUIsTUFBTSxPQUFPLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsRUFBRSxFQUFFLENBQUMsS0FBSyxLQUFLLEtBQUssQ0FBQyxDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUM7UUFDM0UsT0FBTztZQUNILEtBQUssRUFBRSxPQUFPO1lBQ2QsTUFBTSxFQUFJLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxNQUFNO1NBQ2xDLENBQUM7SUFDTixDQUFDO0NBQ0oiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFeHByZXNzaW9ucyB9IGZyb20gXCIuLi8uLi9yZWZsZWN0b3IvZXhwcmVzc2lvbnNcIjtcbmltcG9ydCB7IEV4cHJlc3Npb25WYWxpZGF0b3IgfSBmcm9tIFwiLi9leHByZXNzaW9uLnZhbGlkYXRvclwiO1xuXG5leHBvcnQgY2xhc3MgQ29tcGxleEV4cHJlc3Npb25WYWxpZGF0b3Ige1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSB2YWxpZGF0b3I6IEV4cHJlc3Npb25WYWxpZGF0b3IpIHtcbiAgICB9XG5cbiAgICB2YWxpZGF0ZShleHByZXNzaW9uczogRXhwcmVzc2lvbnM8dW5rbm93bj5bXSk6IHsgdmFsaWQ6IGJvb2xlYW47IGVycm9yczogW0V4cHJlc3Npb25zPHVua25vd24+LCBib29sZWFuXVtdIH0ge1xuICAgICAgICBjb25zdCBlcnJvcnM6IFtFeHByZXNzaW9uczx1bmtub3duPiwgYm9vbGVhbl1bXSA9IFtdO1xuICAgICAgICBjb25zdCBjbG9uZSA9IFsuLi5leHByZXNzaW9uc107XG4gICAgICAgIGNvbnN0IGxhc3QgPSBjbG9uZS5wb3AoKTtcbiAgICAgICAgZm9yIChjb25zdCBleHByZXNzaW9uIG9mIGNsb25lKSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaChbZXhwcmVzc2lvbiwgdGhpcy52YWxpZGF0b3IudmFsaWRhdGUoZXhwcmVzc2lvbildKTtcbiAgICAgICAgfVxuICAgICAgICBlcnJvcnMucHVzaChbbGFzdCwgdHJ1ZV0pO1xuICAgICAgICBjb25zdCBpc1ZhbGlkID0gZXJyb3JzLmZpbHRlcigoWywgdmFsaWRdKSA9PiB2YWxpZCA9PT0gZmFsc2UpLmxlbmd0aCA9PT0gMDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbGlkOiBpc1ZhbGlkLFxuICAgICAgICAgICAgZXJyb3JzIDogIGlzVmFsaWQgPyBbXSA6IGVycm9yc1xuICAgICAgICB9O1xuICAgIH1cbn1cbiJdfQ==