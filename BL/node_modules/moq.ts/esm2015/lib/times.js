/**
 * Sets the rules where bounds of a range are included or excluded from the range.
 * See {@link Times.Between}
 */
export var Range;
(function (Range) {
    Range[Range["Exclusive"] = 0] = "Exclusive";
    Range[Range["Inclusive"] = 1] = "Inclusive";
})(Range || (Range = {}));
/**
 * This class expresses the expectation about amount of invocations.
 *
 * @example
 * ```typescript
 *
 * const times = new Times(expected => expected === 1, `Should be called once`);
 * const actual = times.test(2);
 *
 * expect(actual).toBe(false);
 * expect(times.message).toBe(`Should be called once`);
 * ```
 *
 * ```typescript
 *
 * const mockName = 'mock name';
 *const mock = new Mock<ITestObject>(mockName);
 *const object = mock.object();
 *
 *object.property;
 *
 *const action = () => mock.verify(instance => instance.property, Times.AtLeast(2));
 *
 *expect(action).toThrow();
 * ```
 */
export class Times {
    /**
     *
     * @param evaluator It takes actual value and decides if it is expected or not.
     * Returns true or false accordingly.
     * @param message A message that describes the expectation.
     */
    constructor(evaluator, message) {
        this.evaluator = evaluator;
        this.message = message;
    }
    /**
     * It expects that the actual would be equal or bigger then the expected value.
     *
     * @param callCount The expected value.
     */
    static AtLeast(callCount) {
        return new Times(expected => expected >= callCount, `Should be called at least ${callCount} time(s)`);
    }
    /**
     * It expects that the actual would be equal or bigger then 1.
     */
    static AtLeastOnce() {
        return Times._atLeastOnce;
    }
    /**
     * It expects that the actual would be equal or smaller then the expected value.
     *
     * @param callCount The expected value.
     */
    static AtMost(callCount) {
        return new Times(expected => expected <= callCount, `Should be called at most ${callCount} time(s)`);
    }
    /**
     * It expects that the actual would be equal or less then 1.
     */
    static AtMostOnce() {
        return Times._atMostOnce;
    }
    /**
     * It expects that the actual would be in the expected range of values.
     *
     * @param callCountFrom The lowest bound of the range.
     * @param callCountTo The highest bound of the range.
     * @param range  Sets the rules where bounds of a range are included or excluded from the range.
     */
    static Between(callCountFrom, callCountTo, range) {
        if (range === Range.Exclusive) {
            return new Times(expected => expected > callCountFrom && expected < callCountTo, `Should be called exclusively between ${callCountFrom} and ${callCountTo}`);
        }
        return new Times(expected => expected >= callCountFrom && expected <= callCountTo, `Should be called inclusively between ${callCountFrom} and ${callCountTo}`);
    }
    /**
     * It expects that the actual is equal to the expected value.
     *
     * @param callCount The expected value.
     */
    static Exactly(callCount) {
        return new Times(expected => expected === callCount, `Should be called exactly ${callCount} time(s)`);
    }
    /**
     * It expects that the actual is equal 0.
     */
    static Never() {
        return Times._never;
    }
    /**
     * It expects that the actual is equal 1.
     */
    static Once() {
        return Times._once;
    }
    /**
     * Evaluates the expectation against the actual value.
     *
     * @param callCount The actual value.
     */
    test(callCount) {
        return this.evaluator(callCount);
    }
}
Times._once = new Times(expected => expected === 1, "Should be called once");
Times._never = new Times(expected => expected === 0, "Should be called never");
Times._atMostOnce = new Times(expected => expected <= 1, "Should be called at most once");
Times._atLeastOnce = new Times(expected => expected >= 1, "Should be called at least once");
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGltZXMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9tb3Evc3JjL2xpYi90aW1lcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0dBR0c7QUFDSCxNQUFNLENBQU4sSUFBWSxLQUdYO0FBSEQsV0FBWSxLQUFLO0lBQ2IsMkNBQVMsQ0FBQTtJQUNULDJDQUFTLENBQUE7QUFDYixDQUFDLEVBSFcsS0FBSyxLQUFMLEtBQUssUUFHaEI7QUFFRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQXlCRztBQUNILE1BQU0sT0FBTyxLQUFLO0lBTWQ7Ozs7O09BS0c7SUFDSCxZQUFvQixTQUF5QyxFQUMxQyxPQUFlO1FBRGQsY0FBUyxHQUFULFNBQVMsQ0FBZ0M7UUFDMUMsWUFBTyxHQUFQLE9BQU8sQ0FBUTtJQUVsQyxDQUFDO0lBRUQ7Ozs7T0FJRztJQUNJLE1BQU0sQ0FBQyxPQUFPLENBQUMsU0FBaUI7UUFDbkMsT0FBTyxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLFFBQVEsSUFBSSxTQUFTLEVBQUUsNkJBQTZCLFNBQVMsVUFBVSxDQUFDLENBQUM7SUFDMUcsQ0FBQztJQUVEOztPQUVHO0lBQ0ksTUFBTSxDQUFDLFdBQVc7UUFDckIsT0FBTyxLQUFLLENBQUMsWUFBWSxDQUFDO0lBQzlCLENBQUM7SUFFRDs7OztPQUlHO0lBQ0ksTUFBTSxDQUFDLE1BQU0sQ0FBQyxTQUFpQjtRQUNsQyxPQUFPLElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsUUFBUSxJQUFJLFNBQVMsRUFBRSw0QkFBNEIsU0FBUyxVQUFVLENBQUMsQ0FBQztJQUN6RyxDQUFDO0lBRUQ7O09BRUc7SUFDSSxNQUFNLENBQUMsVUFBVTtRQUNwQixPQUFPLEtBQUssQ0FBQyxXQUFXLENBQUM7SUFDN0IsQ0FBQztJQUVEOzs7Ozs7T0FNRztJQUNJLE1BQU0sQ0FBQyxPQUFPLENBQUMsYUFBcUIsRUFBRSxXQUFtQixFQUFFLEtBQVk7UUFDMUUsSUFBSSxLQUFLLEtBQUssS0FBSyxDQUFDLFNBQVMsRUFBRTtZQUMzQixPQUFPLElBQUksS0FBSyxDQUNaLFFBQVEsQ0FBQyxFQUFFLENBQUMsUUFBUSxHQUFHLGFBQWEsSUFBSSxRQUFRLEdBQUcsV0FBVyxFQUM5RCx3Q0FBd0MsYUFBYSxRQUFRLFdBQVcsRUFBRSxDQUFDLENBQUM7U0FDbkY7UUFFRCxPQUFPLElBQUksS0FBSyxDQUNaLFFBQVEsQ0FBQyxFQUFFLENBQUMsUUFBUSxJQUFJLGFBQWEsSUFBSSxRQUFRLElBQUksV0FBVyxFQUNoRSx3Q0FBd0MsYUFBYSxRQUFRLFdBQVcsRUFBRSxDQUFDLENBQUM7SUFDcEYsQ0FBQztJQUVEOzs7O09BSUc7SUFDSSxNQUFNLENBQUMsT0FBTyxDQUFDLFNBQWlCO1FBQ25DLE9BQU8sSUFBSSxLQUFLLENBQ1osUUFBUSxDQUFDLEVBQUUsQ0FBQyxRQUFRLEtBQUssU0FBUyxFQUNsQyw0QkFBNEIsU0FBUyxVQUFVLENBQUMsQ0FBQztJQUN6RCxDQUFDO0lBRUQ7O09BRUc7SUFDSSxNQUFNLENBQUMsS0FBSztRQUNmLE9BQU8sS0FBSyxDQUFDLE1BQU0sQ0FBQztJQUN4QixDQUFDO0lBRUQ7O09BRUc7SUFDSSxNQUFNLENBQUMsSUFBSTtRQUNkLE9BQU8sS0FBSyxDQUFDLEtBQUssQ0FBQztJQUN2QixDQUFDO0lBRUQ7Ozs7T0FJRztJQUNJLElBQUksQ0FBQyxTQUFpQjtRQUN6QixPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDckMsQ0FBQzs7QUFuR2MsV0FBSyxHQUFVLElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsUUFBUSxLQUFLLENBQUMsRUFBRSx1QkFBdUIsQ0FBQyxDQUFDO0FBQzlFLFlBQU0sR0FBVSxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLFFBQVEsS0FBSyxDQUFDLEVBQUUsd0JBQXdCLENBQUMsQ0FBQztBQUNoRixpQkFBVyxHQUFVLElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsUUFBUSxJQUFJLENBQUMsRUFBRSwrQkFBK0IsQ0FBQyxDQUFDO0FBQzNGLGtCQUFZLEdBQVUsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxRQUFRLElBQUksQ0FBQyxFQUFFLGdDQUFnQyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFNldHMgdGhlIHJ1bGVzIHdoZXJlIGJvdW5kcyBvZiBhIHJhbmdlIGFyZSBpbmNsdWRlZCBvciBleGNsdWRlZCBmcm9tIHRoZSByYW5nZS5cbiAqIFNlZSB7QGxpbmsgVGltZXMuQmV0d2Vlbn1cbiAqL1xuZXhwb3J0IGVudW0gUmFuZ2Uge1xuICAgIEV4Y2x1c2l2ZSxcbiAgICBJbmNsdXNpdmVcbn1cblxuLyoqXG4gKiBUaGlzIGNsYXNzIGV4cHJlc3NlcyB0aGUgZXhwZWN0YXRpb24gYWJvdXQgYW1vdW50IG9mIGludm9jYXRpb25zLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGB0eXBlc2NyaXB0XG4gKlxuICogY29uc3QgdGltZXMgPSBuZXcgVGltZXMoZXhwZWN0ZWQgPT4gZXhwZWN0ZWQgPT09IDEsIGBTaG91bGQgYmUgY2FsbGVkIG9uY2VgKTtcbiAqIGNvbnN0IGFjdHVhbCA9IHRpbWVzLnRlc3QoMik7XG4gKlxuICogZXhwZWN0KGFjdHVhbCkudG9CZShmYWxzZSk7XG4gKiBleHBlY3QodGltZXMubWVzc2FnZSkudG9CZShgU2hvdWxkIGJlIGNhbGxlZCBvbmNlYCk7XG4gKiBgYGBcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKlxuICogY29uc3QgbW9ja05hbWUgPSAnbW9jayBuYW1lJztcbiAqY29uc3QgbW9jayA9IG5ldyBNb2NrPElUZXN0T2JqZWN0Pihtb2NrTmFtZSk7XG4gKmNvbnN0IG9iamVjdCA9IG1vY2sub2JqZWN0KCk7XG4gKlxuICpvYmplY3QucHJvcGVydHk7XG4gKlxuICpjb25zdCBhY3Rpb24gPSAoKSA9PiBtb2NrLnZlcmlmeShpbnN0YW5jZSA9PiBpbnN0YW5jZS5wcm9wZXJ0eSwgVGltZXMuQXRMZWFzdCgyKSk7XG4gKlxuICpleHBlY3QoYWN0aW9uKS50b1Rocm93KCk7XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNsYXNzIFRpbWVzIHtcbiAgICBwcml2YXRlIHN0YXRpYyBfb25jZTogVGltZXMgPSBuZXcgVGltZXMoZXhwZWN0ZWQgPT4gZXhwZWN0ZWQgPT09IDEsIFwiU2hvdWxkIGJlIGNhbGxlZCBvbmNlXCIpO1xuICAgIHByaXZhdGUgc3RhdGljIF9uZXZlcjogVGltZXMgPSBuZXcgVGltZXMoZXhwZWN0ZWQgPT4gZXhwZWN0ZWQgPT09IDAsIFwiU2hvdWxkIGJlIGNhbGxlZCBuZXZlclwiKTtcbiAgICBwcml2YXRlIHN0YXRpYyBfYXRNb3N0T25jZTogVGltZXMgPSBuZXcgVGltZXMoZXhwZWN0ZWQgPT4gZXhwZWN0ZWQgPD0gMSwgXCJTaG91bGQgYmUgY2FsbGVkIGF0IG1vc3Qgb25jZVwiKTtcbiAgICBwcml2YXRlIHN0YXRpYyBfYXRMZWFzdE9uY2U6IFRpbWVzID0gbmV3IFRpbWVzKGV4cGVjdGVkID0+IGV4cGVjdGVkID49IDEsIFwiU2hvdWxkIGJlIGNhbGxlZCBhdCBsZWFzdCBvbmNlXCIpO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZXZhbHVhdG9yIEl0IHRha2VzIGFjdHVhbCB2YWx1ZSBhbmQgZGVjaWRlcyBpZiBpdCBpcyBleHBlY3RlZCBvciBub3QuXG4gICAgICogUmV0dXJucyB0cnVlIG9yIGZhbHNlIGFjY29yZGluZ2x5LlxuICAgICAqIEBwYXJhbSBtZXNzYWdlIEEgbWVzc2FnZSB0aGF0IGRlc2NyaWJlcyB0aGUgZXhwZWN0YXRpb24uXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBldmFsdWF0b3I6IChjYWxsQ291bnQ6IG51bWJlcikgPT4gYm9vbGVhbixcbiAgICAgICAgICAgICAgICBwdWJsaWMgbWVzc2FnZTogc3RyaW5nKSB7XG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdCBleHBlY3RzIHRoYXQgdGhlIGFjdHVhbCB3b3VsZCBiZSBlcXVhbCBvciBiaWdnZXIgdGhlbiB0aGUgZXhwZWN0ZWQgdmFsdWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY2FsbENvdW50IFRoZSBleHBlY3RlZCB2YWx1ZS5cbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIEF0TGVhc3QoY2FsbENvdW50OiBudW1iZXIpOiBUaW1lcyB7XG4gICAgICAgIHJldHVybiBuZXcgVGltZXMoZXhwZWN0ZWQgPT4gZXhwZWN0ZWQgPj0gY2FsbENvdW50LCBgU2hvdWxkIGJlIGNhbGxlZCBhdCBsZWFzdCAke2NhbGxDb3VudH0gdGltZShzKWApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0IGV4cGVjdHMgdGhhdCB0aGUgYWN0dWFsIHdvdWxkIGJlIGVxdWFsIG9yIGJpZ2dlciB0aGVuIDEuXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBBdExlYXN0T25jZSgpOiBUaW1lcyB7XG4gICAgICAgIHJldHVybiBUaW1lcy5fYXRMZWFzdE9uY2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXQgZXhwZWN0cyB0aGF0IHRoZSBhY3R1YWwgd291bGQgYmUgZXF1YWwgb3Igc21hbGxlciB0aGVuIHRoZSBleHBlY3RlZCB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjYWxsQ291bnQgVGhlIGV4cGVjdGVkIHZhbHVlLlxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgQXRNb3N0KGNhbGxDb3VudDogbnVtYmVyKTogVGltZXMge1xuICAgICAgICByZXR1cm4gbmV3IFRpbWVzKGV4cGVjdGVkID0+IGV4cGVjdGVkIDw9IGNhbGxDb3VudCwgYFNob3VsZCBiZSBjYWxsZWQgYXQgbW9zdCAke2NhbGxDb3VudH0gdGltZShzKWApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0IGV4cGVjdHMgdGhhdCB0aGUgYWN0dWFsIHdvdWxkIGJlIGVxdWFsIG9yIGxlc3MgdGhlbiAxLlxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgQXRNb3N0T25jZSgpOiBUaW1lcyB7XG4gICAgICAgIHJldHVybiBUaW1lcy5fYXRNb3N0T25jZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdCBleHBlY3RzIHRoYXQgdGhlIGFjdHVhbCB3b3VsZCBiZSBpbiB0aGUgZXhwZWN0ZWQgcmFuZ2Ugb2YgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNhbGxDb3VudEZyb20gVGhlIGxvd2VzdCBib3VuZCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIGNhbGxDb3VudFRvIFRoZSBoaWdoZXN0IGJvdW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0gcmFuZ2UgIFNldHMgdGhlIHJ1bGVzIHdoZXJlIGJvdW5kcyBvZiBhIHJhbmdlIGFyZSBpbmNsdWRlZCBvciBleGNsdWRlZCBmcm9tIHRoZSByYW5nZS5cbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIEJldHdlZW4oY2FsbENvdW50RnJvbTogbnVtYmVyLCBjYWxsQ291bnRUbzogbnVtYmVyLCByYW5nZTogUmFuZ2UpOiBUaW1lcyB7XG4gICAgICAgIGlmIChyYW5nZSA9PT0gUmFuZ2UuRXhjbHVzaXZlKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFRpbWVzKFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkID0+IGV4cGVjdGVkID4gY2FsbENvdW50RnJvbSAmJiBleHBlY3RlZCA8IGNhbGxDb3VudFRvLFxuICAgICAgICAgICAgICAgIGBTaG91bGQgYmUgY2FsbGVkIGV4Y2x1c2l2ZWx5IGJldHdlZW4gJHtjYWxsQ291bnRGcm9tfSBhbmQgJHtjYWxsQ291bnRUb31gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgVGltZXMoXG4gICAgICAgICAgICBleHBlY3RlZCA9PiBleHBlY3RlZCA+PSBjYWxsQ291bnRGcm9tICYmIGV4cGVjdGVkIDw9IGNhbGxDb3VudFRvLFxuICAgICAgICAgICAgYFNob3VsZCBiZSBjYWxsZWQgaW5jbHVzaXZlbHkgYmV0d2VlbiAke2NhbGxDb3VudEZyb219IGFuZCAke2NhbGxDb3VudFRvfWApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0IGV4cGVjdHMgdGhhdCB0aGUgYWN0dWFsIGlzIGVxdWFsIHRvIHRoZSBleHBlY3RlZCB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjYWxsQ291bnQgVGhlIGV4cGVjdGVkIHZhbHVlLlxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgRXhhY3RseShjYWxsQ291bnQ6IG51bWJlcik6IFRpbWVzIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUaW1lcyhcbiAgICAgICAgICAgIGV4cGVjdGVkID0+IGV4cGVjdGVkID09PSBjYWxsQ291bnQsXG4gICAgICAgICAgICBgU2hvdWxkIGJlIGNhbGxlZCBleGFjdGx5ICR7Y2FsbENvdW50fSB0aW1lKHMpYCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXQgZXhwZWN0cyB0aGF0IHRoZSBhY3R1YWwgaXMgZXF1YWwgMC5cbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIE5ldmVyKCk6IFRpbWVzIHtcbiAgICAgICAgcmV0dXJuIFRpbWVzLl9uZXZlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdCBleHBlY3RzIHRoYXQgdGhlIGFjdHVhbCBpcyBlcXVhbCAxLlxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgT25jZSgpOiBUaW1lcyB7XG4gICAgICAgIHJldHVybiBUaW1lcy5fb25jZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFdmFsdWF0ZXMgdGhlIGV4cGVjdGF0aW9uIGFnYWluc3QgdGhlIGFjdHVhbCB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjYWxsQ291bnQgVGhlIGFjdHVhbCB2YWx1ZS5cbiAgICAgKi9cbiAgICBwdWJsaWMgdGVzdChjYWxsQ291bnQ6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5ldmFsdWF0b3IoY2FsbENvdW50KTtcbiAgICB9XG59XG4iXX0=