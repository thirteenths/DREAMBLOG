import { MimicsPreset } from "../presets/mimics.preset";
/**
 * @Hidden
 */
export class MimicsRejectedAsyncPresetFactory {
    constructor(rootMock, presets, rejectedPromise) {
        this.rootMock = rootMock;
        this.presets = presets;
        this.rejectedPromise = rejectedPromise;
        return this.factory();
    }
    factory() {
        return (target, playable, value) => {
            const preset = new MimicsPreset(playable, target, this.rejectedPromise(value));
            this.presets.add(preset);
            return this.rootMock;
        };
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWltaWNzLXJlamVjdGVkLWFzeW5jLXByZXNldC5mYWN0b3J5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvbW9xL3NyYy9saWIvcHJlc2V0cy9mYWN0b3JpZXMvbWltaWNzLXJlamVjdGVkLWFzeW5jLXByZXNldC5mYWN0b3J5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUlBLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUd4RDs7R0FFRztBQUNILE1BQU0sT0FBTyxnQ0FBZ0M7SUFDekMsWUFBNkIsUUFBa0IsRUFDbEIsT0FBbUIsRUFDbkIsZUFBK0Q7UUFGL0QsYUFBUSxHQUFSLFFBQVEsQ0FBVTtRQUNsQixZQUFPLEdBQVAsT0FBTyxDQUFZO1FBQ25CLG9CQUFlLEdBQWYsZUFBZSxDQUFnRDtRQUN4RixPQUFPLElBQUksQ0FBQyxPQUFPLEVBQVMsQ0FBQztJQUNqQyxDQUFDO0lBRUQsT0FBTztRQUNILE9BQU8sQ0FBQyxNQUFzQixFQUFFLFFBQW1CLEVBQUUsS0FBMkIsRUFBRSxFQUFFO1lBQ2hGLE1BQU0sTUFBTSxHQUFHLElBQUksWUFBWSxDQUFDLFFBQVEsRUFBRSxNQUFNLEVBQUUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1lBQy9FLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ3pCLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQztRQUN6QixDQUFDLENBQUM7SUFDTixDQUFDO0NBQ0oiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3Rpb25GYWN0b3J5LCBUeXBlT2ZJbmplY3Rpb25GYWN0b3J5IH0gZnJvbSBcIi4uLy4uL2luamVjdG9yL2luamVjdGlvbi1mYWN0b3J5XCI7XG5pbXBvcnQgeyBJTW9jaywgSVBsYXlhYmxlLCBQcm9taXNlZFR5cGUgfSBmcm9tIFwiLi4vLi4vbW9xXCI7XG5pbXBvcnQgeyBQcmVzZXRzIH0gZnJvbSBcIi4uL3ByZXNldHNcIjtcbmltcG9ydCB7IEV4cHJlc3Npb25zIH0gZnJvbSBcIi4uLy4uL3JlZmxlY3Rvci9leHByZXNzaW9uc1wiO1xuaW1wb3J0IHsgTWltaWNzUHJlc2V0IH0gZnJvbSBcIi4uL3ByZXNldHMvbWltaWNzLnByZXNldFwiO1xuaW1wb3J0IHsgUmVqZWN0ZWRQcm9taXNlRmFjdG9yeSB9IGZyb20gXCIuLi9yZWplY3RlZC1wcm9taXNlLmZhY3RvcnlcIjtcblxuLyoqXG4gKiBASGlkZGVuXG4gKi9cbmV4cG9ydCBjbGFzcyBNaW1pY3NSZWplY3RlZEFzeW5jUHJlc2V0RmFjdG9yeTxULCBUVmFsdWUgPSBhbnk+IGltcGxlbWVudHMgSW5qZWN0aW9uRmFjdG9yeSB7XG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSByb290TW9jazogSU1vY2s8VD4sXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSByZWFkb25seSBwcmVzZXRzOiBQcmVzZXRzPFQ+LFxuICAgICAgICAgICAgICAgIHByaXZhdGUgcmVhZG9ubHkgcmVqZWN0ZWRQcm9taXNlOiBUeXBlT2ZJbmplY3Rpb25GYWN0b3J5PFJlamVjdGVkUHJvbWlzZUZhY3Rvcnk+KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZhY3RvcnkoKSBhcyBhbnk7XG4gICAgfVxuXG4gICAgZmFjdG9yeSgpIHtcbiAgICAgICAgcmV0dXJuICh0YXJnZXQ6IEV4cHJlc3Npb25zPFQ+LCBwbGF5YWJsZTogSVBsYXlhYmxlLCB2YWx1ZTogUHJvbWlzZWRUeXBlPFRWYWx1ZT4pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHByZXNldCA9IG5ldyBNaW1pY3NQcmVzZXQocGxheWFibGUsIHRhcmdldCwgdGhpcy5yZWplY3RlZFByb21pc2UodmFsdWUpKTtcbiAgICAgICAgICAgIHRoaXMucHJlc2V0cy5hZGQocHJlc2V0KTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJvb3RNb2NrO1xuICAgICAgICB9O1xuICAgIH1cbn1cbiJdfQ==