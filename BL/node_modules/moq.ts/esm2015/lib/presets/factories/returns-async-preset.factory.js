import { ReturnsPreset } from "../presets/returns.preset";
/**
 * @Hidden
 */
export class ReturnsAsyncPresetFactory {
    constructor(rootMock, presets, resolvedPromise) {
        this.rootMock = rootMock;
        this.presets = presets;
        this.resolvedPromise = resolvedPromise;
        return this.factory();
    }
    factory() {
        return (target, playable, value) => {
            const preset = new ReturnsPreset(playable, target, this.resolvedPromise(value));
            this.presets.add(preset);
            return this.rootMock;
        };
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmV0dXJucy1hc3luYy1wcmVzZXQuZmFjdG9yeS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL21vcS9zcmMvbGliL3ByZXNldHMvZmFjdG9yaWVzL3JldHVybnMtYXN5bmMtcHJlc2V0LmZhY3RvcnkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBS0EsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBRTFEOztHQUVHO0FBQ0gsTUFBTSxPQUFPLHlCQUF5QjtJQUNsQyxZQUE2QixRQUFrQixFQUNsQixPQUFtQixFQUNuQixlQUErRDtRQUYvRCxhQUFRLEdBQVIsUUFBUSxDQUFVO1FBQ2xCLFlBQU8sR0FBUCxPQUFPLENBQVk7UUFDbkIsb0JBQWUsR0FBZixlQUFlLENBQWdEO1FBQ3hGLE9BQU8sSUFBSSxDQUFDLE9BQU8sRUFBUyxDQUFDO0lBQ2pDLENBQUM7SUFFRCxPQUFPO1FBQ0gsT0FBTyxDQUFDLE1BQXNCLEVBQUUsUUFBbUIsRUFBRSxLQUEyQixFQUFFLEVBQUU7WUFDaEYsTUFBTSxNQUFNLEdBQUcsSUFBSSxhQUFhLENBQUMsUUFBUSxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7WUFDaEYsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDekIsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDO1FBQ3pCLENBQUMsQ0FBQztJQUNOLENBQUM7Q0FDSiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGlvbkZhY3RvcnksIFR5cGVPZkluamVjdGlvbkZhY3RvcnkgfSBmcm9tIFwiLi4vLi4vaW5qZWN0b3IvaW5qZWN0aW9uLWZhY3RvcnlcIjtcbmltcG9ydCB7IElNb2NrLCBJUGxheWFibGUsIFByb21pc2VkVHlwZSB9IGZyb20gXCIuLi8uLi9tb3FcIjtcbmltcG9ydCB7IFByZXNldHMgfSBmcm9tIFwiLi4vcHJlc2V0c1wiO1xuaW1wb3J0IHsgRXhwcmVzc2lvbnMgfSBmcm9tIFwiLi4vLi4vcmVmbGVjdG9yL2V4cHJlc3Npb25zXCI7XG5pbXBvcnQgeyBSZXNvbHZlZFByb21pc2VGYWN0b3J5IH0gZnJvbSBcIi4uL3Jlc29sdmVkLXByb21pc2UuZmFjdG9yeVwiO1xuaW1wb3J0IHsgUmV0dXJuc1ByZXNldCB9IGZyb20gXCIuLi9wcmVzZXRzL3JldHVybnMucHJlc2V0XCI7XG5cbi8qKlxuICogQEhpZGRlblxuICovXG5leHBvcnQgY2xhc3MgUmV0dXJuc0FzeW5jUHJlc2V0RmFjdG9yeTxULCBUVmFsdWUgPSBhbnk+IGltcGxlbWVudHMgSW5qZWN0aW9uRmFjdG9yeSB7XG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSByb290TW9jazogSU1vY2s8VD4sXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSByZWFkb25seSBwcmVzZXRzOiBQcmVzZXRzPFQ+LFxuICAgICAgICAgICAgICAgIHByaXZhdGUgcmVhZG9ubHkgcmVzb2x2ZWRQcm9taXNlOiBUeXBlT2ZJbmplY3Rpb25GYWN0b3J5PFJlc29sdmVkUHJvbWlzZUZhY3Rvcnk+KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZhY3RvcnkoKSBhcyBhbnk7XG4gICAgfVxuXG4gICAgZmFjdG9yeSgpIHtcbiAgICAgICAgcmV0dXJuICh0YXJnZXQ6IEV4cHJlc3Npb25zPFQ+LCBwbGF5YWJsZTogSVBsYXlhYmxlLCB2YWx1ZTogUHJvbWlzZWRUeXBlPFRWYWx1ZT4pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHByZXNldCA9IG5ldyBSZXR1cm5zUHJlc2V0KHBsYXlhYmxlLCB0YXJnZXQsIHRoaXMucmVzb2x2ZWRQcm9taXNlKHZhbHVlKSk7XG4gICAgICAgICAgICB0aGlzLnByZXNldHMuYWRkKHByZXNldCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yb290TW9jaztcbiAgICAgICAgfTtcbiAgICB9XG59XG4iXX0=