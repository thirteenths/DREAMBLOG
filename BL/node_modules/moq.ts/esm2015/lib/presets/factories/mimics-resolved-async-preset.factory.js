import { MimicsPreset } from "../presets/mimics.preset";
/**
 * @Hidden
 */
export class MimicsResolvedAsyncPresetFactory {
    constructor(rootMock, presets, resolvedPromise) {
        this.rootMock = rootMock;
        this.presets = presets;
        this.resolvedPromise = resolvedPromise;
        return this.factory();
    }
    factory() {
        return (target, playable, value) => {
            const preset = new MimicsPreset(playable, target, this.resolvedPromise(value));
            this.presets.add(preset);
            return this.rootMock;
        };
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWltaWNzLXJlc29sdmVkLWFzeW5jLXByZXNldC5mYWN0b3J5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvbW9xL3NyYy9saWIvcHJlc2V0cy9mYWN0b3JpZXMvbWltaWNzLXJlc29sdmVkLWFzeW5jLXByZXNldC5mYWN0b3J5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU1BLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUV4RDs7R0FFRztBQUNILE1BQU0sT0FBTyxnQ0FBZ0M7SUFDekMsWUFBNkIsUUFBa0IsRUFDbEIsT0FBbUIsRUFDbkIsZUFBK0Q7UUFGL0QsYUFBUSxHQUFSLFFBQVEsQ0FBVTtRQUNsQixZQUFPLEdBQVAsT0FBTyxDQUFZO1FBQ25CLG9CQUFlLEdBQWYsZUFBZSxDQUFnRDtRQUN4RixPQUFPLElBQUksQ0FBQyxPQUFPLEVBQVMsQ0FBQztJQUNqQyxDQUFDO0lBRUQsT0FBTztRQUNILE9BQU8sQ0FBQyxNQUFzQixFQUFFLFFBQW1CLEVBQUUsS0FBMkIsRUFBRSxFQUFFO1lBQ2hGLE1BQU0sTUFBTSxHQUFHLElBQUksWUFBWSxDQUFDLFFBQVEsRUFBRSxNQUFNLEVBQUUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1lBQy9FLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ3pCLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQztRQUN6QixDQUFDLENBQUM7SUFDTixDQUFDO0NBQ0oiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3Rpb25GYWN0b3J5LCBUeXBlT2ZJbmplY3Rpb25GYWN0b3J5IH0gZnJvbSBcIi4uLy4uL2luamVjdG9yL2luamVjdGlvbi1mYWN0b3J5XCI7XG5pbXBvcnQgeyBJTW9jaywgSVBsYXlhYmxlLCBQcm9taXNlZFR5cGUgfSBmcm9tIFwiLi4vLi4vbW9xXCI7XG5pbXBvcnQgeyBQcmVzZXRzIH0gZnJvbSBcIi4uL3ByZXNldHNcIjtcbmltcG9ydCB7IEV4cHJlc3Npb25zIH0gZnJvbSBcIi4uLy4uL3JlZmxlY3Rvci9leHByZXNzaW9uc1wiO1xuaW1wb3J0IHsgUmVzb2x2ZWRQcm9taXNlRmFjdG9yeSB9IGZyb20gXCIuLi9yZXNvbHZlZC1wcm9taXNlLmZhY3RvcnlcIjtcbmltcG9ydCB7IFJldHVybnNQcmVzZXQgfSBmcm9tIFwiLi4vcHJlc2V0cy9yZXR1cm5zLnByZXNldFwiO1xuaW1wb3J0IHsgTWltaWNzUHJlc2V0IH0gZnJvbSBcIi4uL3ByZXNldHMvbWltaWNzLnByZXNldFwiO1xuXG4vKipcbiAqIEBIaWRkZW5cbiAqL1xuZXhwb3J0IGNsYXNzIE1pbWljc1Jlc29sdmVkQXN5bmNQcmVzZXRGYWN0b3J5PFQsIFRWYWx1ZSA9IGFueT4gaW1wbGVtZW50cyBJbmplY3Rpb25GYWN0b3J5IHtcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IHJvb3RNb2NrOiBJTW9jazxUPixcbiAgICAgICAgICAgICAgICBwcml2YXRlIHJlYWRvbmx5IHByZXNldHM6IFByZXNldHM8VD4sXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSByZWFkb25seSByZXNvbHZlZFByb21pc2U6IFR5cGVPZkluamVjdGlvbkZhY3Rvcnk8UmVzb2x2ZWRQcm9taXNlRmFjdG9yeT4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmFjdG9yeSgpIGFzIGFueTtcbiAgICB9XG5cbiAgICBmYWN0b3J5KCkge1xuICAgICAgICByZXR1cm4gKHRhcmdldDogRXhwcmVzc2lvbnM8VD4sIHBsYXlhYmxlOiBJUGxheWFibGUsIHZhbHVlOiBQcm9taXNlZFR5cGU8VFZhbHVlPikgPT4ge1xuICAgICAgICAgICAgY29uc3QgcHJlc2V0ID0gbmV3IE1pbWljc1ByZXNldChwbGF5YWJsZSwgdGFyZ2V0LCB0aGlzLnJlc29sdmVkUHJvbWlzZSh2YWx1ZSkpO1xuICAgICAgICAgICAgdGhpcy5wcmVzZXRzLmFkZChwcmVzZXQpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucm9vdE1vY2s7XG4gICAgICAgIH07XG4gICAgfVxufVxuIl19